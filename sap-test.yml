---
- name: Provided mount type is {{ mountnfs }}
  debug:
    msg: "Provided mount type is {{ mountnfs }}"

- name: Initiating Mount operation
  hosts: "{{ nfstargetservername }}"
  become: yes
  become_method: sudo
  gather_facts: false
  roles:
  - role: nfs-mount-on-aix-linux-new
    when: mountnfs | lower == "mount"

- name: Initiating UnMount operation
  hosts: "{{ nfstargetservername }}"
  become: yes
  become_method: sudo
  gather_facts: false
  roles:
  - role: nfs-unmount-on-aix-linux-new
    when: mountnfs | lower == "unmount"