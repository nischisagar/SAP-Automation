---
- name: Mount the NFS share /tempfs
  mount:
    path: "{{ nfs }}"
    src: "{{ nfs_mount }}"
    fstype: nfs
    state: mounted

- name: Get SAP HANA Database Status
  shell: |
    . ~/.bashrc
    HDB info
  become_user: "{{ hana_sid_adm_usr }}"
  become: true
  register: check_hdb_status
  changed_when: False

- debug:
    msg: "{{ check_hdb_status.stdout_lines }}"

- name: Get SAP HANA Database Version
  shell: |
    . ~/.bashrc
    HDB version
  become_user: "{{ hana_sid_adm_usr }}"
  become: true
  register: check_hdb_version
  changed_when: False

- debug:
    msg: "{{ check_hdb_version.stdout_lines }}"

- name: Unmount the NFS share /tempfs
  mount:
    path: "{{ nfs }}"
    src: "{{ nfs_mount }}"
    fstype: nfs
    state: absent